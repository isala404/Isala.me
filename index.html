<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Isala Piyarisi | Cloud Engineer & AI Enthusiast</title>
        <meta
            name="description"
            content="A minimal, warm, nostalgic personal website inspired by 90s anime aesthetics."
        />

        <!-- Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
            rel="stylesheet"
        />

        <!-- Lucide Icons -->
        <script src="https://unpkg.com/lucide@latest"></script>

        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            "summer-bg": "#e8e0d5",
                            "summer-text": "#2a2a35",
                            "summer-text-secondary": "#6b6b7a",
                            "summer-accent": "#e85a3c",
                            "summer-accent-hover": "#d14a2c",
                            "summer-golden": "#d4a84b",
                            "summer-teal": "#4a9ba0",
                        },
                        fontFamily: {
                            sans: ["Inter", "sans-serif"],
                            mono: ["JetBrains Mono", "monospace"],
                        },
                        maxWidth: {
                            content: "640px",
                        },
                    },
                },
            };
        </script>

        <style>
            :root {
                --scanline-color: rgba(0, 0, 0, 0.05);
            }

            body {
                background-color: #e8e0d5;
                color: #2a2a35;
                min-height: 100vh;
                position: relative;
                overflow-x: hidden;
            }

            /* Custom Scrollbar */
            ::-webkit-scrollbar {
                width: 8px;
            }

            ::-webkit-scrollbar-track {
                background: rgba(232, 224, 213, 0.5);
            }

            ::-webkit-scrollbar-thumb {
                background: rgba(232, 90, 60, 0.4);
                border-radius: 4px;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: rgba(232, 90, 60, 0.6);
            }

            /* Selection */
            ::selection {
                background: rgba(232, 90, 60, 0.2);
                color: inherit;
            }

            /* Link Wiggly Underline Animation */
            .hover-underline {
                position: relative;
                text-decoration: none;
                transition: color 0.2s ease;
                width: fit-content;
            }

            .hover-underline:hover {
                color: #2d2218 !important;
            }

            .hover-underline::after {
                content: "";
                position: absolute;
                left: 0;
                right: 0;
                bottom: -2px;
                height: 4px;
                background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 4'%3E%3Cpath d='M0 3.5 Q5 0 10 3.5 T20 3.5' fill='none' stroke='%23e85a3c' stroke-width='1.5'/%3E%3C/svg%3E");
                background-repeat: repeat-x;
                background-size: 12px 4px;
                clip-path: inset(0 100% 0 0);
                transition: clip-path 0.4s ease-out;
            }

            .hover-underline:hover::after {
                clip-path: inset(0 0 0 0);
            }

            /* Arrow Link Animation */
            .arrow-link {
                display: inline-flex;
                align-items: center;
                gap: 4px;
                text-decoration: none;
                transition: font-style 0.2s ease;
            }

            .arrow-link .arrow {
                display: inline-block;
                transition: transform 0.25s ease-out;
            }

            .arrow-link .text {
                text-decoration: none;
                transition: text-decoration 0.2s ease;
            }

            .arrow-link:hover .arrow {
                transform: translateX(3px);
            }

            .arrow-link:hover .text {
                text-decoration: underline;
                font-style: italic;
            }

            /* Section Heading Highlight - triggers on section hover */
            .section-heading {
                position: relative;
                display: inline-block;
                transition: color 0.2s ease;
                z-index: 1;
            }

            .section-heading::before {
                content: "";
                position: absolute;
                z-index: -1;
                top: -5%;
                left: -8px;
                width: calc(100% + 16px);
                height: 110%;
                background-color: #ffd4a3;
                opacity: 0.2;
                clip-path: polygon(2% 10%, 98% 5%, 100% 90%, 0% 95%);
                transform: scaleX(0);
                transform-origin: left;
                transition: transform 0.35s ease-out;
            }

            section:hover .section-heading::before {
                transform: scaleX(1);
            }

            section:hover .section-heading {
                color: #e85a3c;
            }

            /* Fade In Animation */
            .fade-in {
                animation: fadeIn 0.8s ease-out forwards;
                opacity: 0;
                transform: translateY(10px);
            }

            .fade-in-delay-1 {
                animation-delay: 0.1s;
            }

            .fade-in-delay-2 {
                animation-delay: 0.2s;
            }

            .fade-in-delay-3 {
                animation-delay: 0.3s;
            }

            .fade-in-delay-4 {
                animation-delay: 0.4s;
            }

            @keyframes fadeIn {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* Easter Egg: Draggable Tiles */
            .now-grid {
                position: relative;
            }

            .now-tile {
                cursor: grab;
                user-select: none;
                touch-action: none;
                transition:
                    transform 0.2s ease,
                    box-shadow 0.2s ease,
                    opacity 0.2s ease;
            }

            .now-tile:active {
                cursor: grabbing;
            }

            .now-tile.dragging {
                position: fixed;
                z-index: 1000;
                cursor: grabbing;
                transform: scale(1.05) rotate(2deg);
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
                opacity: 0.95;
                transition:
                    transform 0.1s ease,
                    box-shadow 0.1s ease;
                pointer-events: none;
            }

            .now-tile.placeholder {
                border-style: dashed;
                border-color: rgba(232, 90, 60, 0.3);
                background: transparent;
            }

            .now-tile.placeholder > * {
                visibility: hidden;
            }

            .now-grid.dragging-active
                .now-tile:not(.dragging):not(.placeholder) {
                transition: transform 0.25s cubic-bezier(0.2, 0, 0, 1);
            }

            .now-grid.dragging-active .now-tile:not(.dragging) {
                pointer-events: none;
                background: transparent !important;
                border-color: rgba(42, 42, 53, 0.05) !important;
            }

            /* Hint animation for draggable tiles */
            @keyframes tileHint {
                0%,
                100% {
                    transform: translateX(0);
                }
                25% {
                    transform: translateX(-2px) rotate(-0.5deg);
                }
                75% {
                    transform: translateX(2px) rotate(0.5deg);
                }
            }

            .now-tile.hint {
                animation: tileHint 0.3s ease-in-out 2;
            }

            /* Dog Easter Egg */
            .dog-container {
                position: relative;
                cursor: pointer;
            }

            .dog-sprite {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: url("dog-bark.png");
                background-size: 300% 100%;
                background-position: 0% 0%;
                background-repeat: no-repeat;
                transition: transform 0.1s ease;
                display: none;
            }

            .dog-still {
                width: 100%;
                height: 100%;
                transition: transform 0.1s ease;
            }

            .dog-container.barking .dog-still {
                display: none;
            }

            .dog-container.barking .dog-sprite {
                display: block;
                animation: dogBark 0.5s steps(1) 2;
            }

            @keyframes dogBark {
                0% {
                    background-position: 0% 0%;
                }
                33% {
                    background-position: 50% 0%;
                }
                66% {
                    background-position: 100% 0%;
                }
                100% {
                    background-position: 0% 0%;
                }
            }

            .woof {
                position: absolute;
                top: 0;
                font-size: 12px;
                font-weight: 600;
                color: #e85a3c;
                opacity: 0;
                pointer-events: none;
                white-space: nowrap;
                animation: woofPop 0.5s ease-out forwards;
            }

            .woof-left {
                left: -8px;
            }

            .woof-right {
                right: -8px;
            }

            @keyframes woofPop {
                0% {
                    opacity: 0;
                    transform: translateY(0) scale(0.5);
                }
                20% {
                    opacity: 1;
                    transform: translateY(-5px) scale(1.1);
                }
                100% {
                    opacity: 0;
                    transform: translateY(-25px) scale(0.8);
                }
            }

            /* Quote Glitch Effect */
            @keyframes glitch {
                0% {
                    transform: translate(0);
                    opacity: 1;
                }
                10% {
                    transform: translate(-2px, 1px);
                    opacity: 0.8;
                }
                20% {
                    transform: translate(2px, -1px);
                    opacity: 0.9;
                }
                30% {
                    transform: translate(-1px, 2px);
                    opacity: 0.7;
                }
                40% {
                    transform: translate(1px, -2px);
                    opacity: 0.8;
                }
                50% {
                    transform: translate(-2px, 1px);
                    opacity: 0.6;
                }
                60% {
                    transform: translate(2px, 1px);
                    opacity: 0.9;
                }
                70% {
                    transform: translate(-1px, -1px);
                    opacity: 0.7;
                }
                80% {
                    transform: translate(1px, 2px);
                    opacity: 0.8;
                }
                90% {
                    transform: translate(-2px, -2px);
                    opacity: 0.9;
                }
                100% {
                    transform: translate(0);
                    opacity: 1;
                }
            }

            #quote.glitching {
                animation: glitch 0.5s ease-in-out;
            }

            /* Konami Code - VHS Effect */
            .vhs-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 9999;
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .vhs-overlay.active {
                opacity: 1;
            }

            .vhs-overlay .scanlines {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: repeating-linear-gradient(
                    0deg,
                    rgba(0, 0, 0, 0.15) 0px,
                    rgba(0, 0, 0, 0.15) 1px,
                    transparent 1px,
                    transparent 2px
                );
                animation: scanlineMove 0.1s linear infinite;
            }

            .vhs-overlay .noise {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)'/%3E%3C/svg%3E");
                opacity: 0.08;
                animation: noiseMove 0.2s steps(10) infinite;
            }

            .vhs-overlay .color-shift {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(
                    180deg,
                    rgba(255, 0, 0, 0.03) 0%,
                    rgba(0, 255, 0, 0.02) 50%,
                    rgba(0, 0, 255, 0.03) 100%
                );
                animation: colorShift 3s ease-in-out infinite;
            }

            @keyframes scanlineMove {
                0% {
                    transform: translateY(0);
                }
                100% {
                    transform: translateY(2px);
                }
            }

            @keyframes noiseMove {
                0% {
                    transform: translate(0, 0);
                }
                10% {
                    transform: translate(-1%, -1%);
                }
                20% {
                    transform: translate(1%, 1%);
                }
                30% {
                    transform: translate(-1%, 1%);
                }
                40% {
                    transform: translate(1%, -1%);
                }
                50% {
                    transform: translate(-1%, 0);
                }
                60% {
                    transform: translate(1%, 0);
                }
                70% {
                    transform: translate(0, 1%);
                }
                80% {
                    transform: translate(0, -1%);
                }
                90% {
                    transform: translate(1%, 1%);
                }
                100% {
                    transform: translate(0, 0);
                }
            }

            @keyframes colorShift {
                0%,
                100% {
                    opacity: 0.5;
                }
                50% {
                    opacity: 0.8;
                }
            }

            .konami-message {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(0.8);
                background: rgba(0, 0, 0, 0.9);
                color: #e85a3c;
                padding: 20px 40px;
                font-family: "JetBrains Mono", monospace;
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 4px;
                border: 2px solid #e85a3c;
                z-index: 10000;
                opacity: 0;
                transition: all 0.3s ease;
                text-align: center;
            }

            .konami-message.show {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }

            .konami-message .subtitle {
                font-size: 10px;
                color: #6b6b7a;
                margin-top: 8px;
                letter-spacing: 2px;
            }

            /* Name Click Easter Egg */
            .name-clickable {
                cursor: pointer;
                user-select: none;
                transition: color 0.2s ease;
            }

            .name-clickable:hover {
                color: #e85a3c;
            }

            @keyframes nameShake {
                0%,
                100% {
                    transform: translateX(0);
                }
                10% {
                    transform: translateX(-4px) rotate(-1deg);
                }
                20% {
                    transform: translateX(4px) rotate(1deg);
                }
                30% {
                    transform: translateX(-4px) rotate(-1deg);
                }
                40% {
                    transform: translateX(4px) rotate(1deg);
                }
                50% {
                    transform: translateX(-2px) rotate(-0.5deg);
                }
                60% {
                    transform: translateX(2px) rotate(0.5deg);
                }
                70% {
                    transform: translateX(-2px);
                }
                80% {
                    transform: translateX(2px);
                }
                90% {
                    transform: translateX(-1px);
                }
            }

            .name-clickable.shaking {
                animation: nameShake 0.6s ease-in-out;
                color: #e85a3c;
            }

            .name-tooltip {
                position: absolute;
                top: -30px;
                left: 50%;
                transform: translateX(-50%) translateY(10px);
                background: #2a2a35;
                color: #e8e0d5;
                padding: 4px 10px;
                border-radius: 4px;
                font-size: 12px;
                white-space: nowrap;
                opacity: 0;
                pointer-events: none;
                transition: all 0.2s ease;
            }

            .name-tooltip.show {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }

            /* Footer Easter Egg */
            .footer-text {
                cursor: pointer;
                transition: color 0.2s ease;
            }

            .footer-text:hover {
                color: #e85a3c;
            }

            .footer-text.switching {
                animation: footerSwitch 0.3s ease;
            }

            @keyframes footerSwitch {
                0% {
                    opacity: 1;
                    transform: translateY(0);
                }
                50% {
                    opacity: 0;
                    transform: translateY(-5px);
                }
                51% {
                    transform: translateY(5px);
                }
                100% {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* Konami Hint */
            .konami-hint {
                font-family: "JetBrains Mono", monospace;
                font-size: 10px;
                color: rgba(42, 42, 53, 0.2);
                letter-spacing: 3px;
                transition: all 0.3s ease;
                cursor: default;
                user-select: none;
            }

            .konami-hint:hover {
                color: rgba(42, 42, 53, 0.4);
            }

            .konami-hint.hidden {
                opacity: 0;
            }

            /* Space Invaders Mini Game */
            .game-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(232, 224, 213, 0.98);
                z-index: 10001;
                display: none;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                font-family: "JetBrains Mono", monospace;
            }

            .game-overlay.active {
                display: flex;
            }

            .game-container {
                position: relative;
                width: 400px;
                height: 500px;
                background: #2a2a35;
                border: 3px solid #e85a3c;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 0 30px rgba(232, 90, 60, 0.3);
            }

            .game-header {
                position: absolute;
                top: 10px;
                left: 0;
                right: 0;
                display: flex;
                justify-content: space-between;
                padding: 0 15px;
                font-size: 12px;
                color: #e8e0d5;
                z-index: 10;
            }

            .game-score {
                color: #e85a3c;
            }

            .game-lives {
                color: #d4a84b;
            }

            .game-canvas {
                width: 100%;
                height: 100%;
            }

            .game-start-screen,
            .game-over-screen {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                background: rgba(42, 42, 53, 0.95);
                z-index: 20;
            }

            .game-start-screen.hidden,
            .game-over-screen.hidden {
                display: none;
            }

            .game-title {
                font-size: 24px;
                color: #e85a3c;
                letter-spacing: 4px;
                text-transform: uppercase;
                margin-bottom: 10px;
            }

            .game-subtitle {
                font-size: 12px;
                color: #6b6b7a;
                margin-bottom: 30px;
            }

            .game-instruction {
                font-size: 14px;
                color: #e8e0d5;
                animation: blink 1s ease-in-out infinite;
            }

            .game-final-score {
                font-size: 18px;
                color: #d4a84b;
                margin-bottom: 20px;
            }

            .game-high-score {
                font-size: 12px;
                color: #6b6b7a;
                margin-bottom: 30px;
            }

            @keyframes blink {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.3; }
            }

            .game-close {
                position: absolute;
                top: -40px;
                right: 0;
                background: none;
                border: none;
                color: #6b6b7a;
                font-size: 12px;
                cursor: pointer;
                font-family: "JetBrains Mono", monospace;
                transition: color 0.2s ease;
            }

            .game-close:hover {
                color: #e85a3c;
            }

            .game-hint {
                margin-top: 20px;
                font-size: 10px;
                color: rgba(42, 42, 53, 0.4);
                letter-spacing: 2px;
            }
        </style>
    </head>

    <body class="antialiased selection:bg-orange-100 selection:text-orange-900">
        <!-- VHS Overlay (Konami Code Easter Egg) -->
        <div class="vhs-overlay" id="vhs-overlay">
            <div class="scanlines"></div>
            <div class="noise"></div>
            <div class="color-shift"></div>
        </div>
        <div class="konami-message" id="konami-message">
            Welcome Player
            <div class="subtitle">↑↑↓↓←→←→BA</div>
        </div>

        <!-- Space Invaders Mini Game -->
        <div class="game-overlay" id="game-overlay">
            <div class="game-container">
                <button class="game-close" id="game-close">[ESC] close</button>
                <div class="game-header">
                    <span class="game-score">SCORE: <span id="game-score">0</span></span>
                    <span class="game-lives">LIVES: <span id="game-lives">♥♥♥</span></span>
                </div>
                <canvas class="game-canvas" id="game-canvas"></canvas>
                <div class="game-start-screen" id="game-start">
                    <div class="game-title">Bug Hunter</div>
                    <div class="game-subtitle">squash the bugs before they reach you</div>
                    <div class="game-instruction">[SPACE] to start</div>
                    <div class="game-subtitle" style="margin-top: 15px; margin-bottom: 0;">[A/D] move · [SPACE] shoot</div>
                </div>
                <div class="game-over-screen hidden" id="game-over">
                    <div class="game-title">Game Over</div>
                    <div class="game-final-score">SCORE: <span id="final-score">0</span></div>
                    <div class="game-high-score">HIGH SCORE: <span id="high-score">0</span></div>
                    <div class="game-instruction">[SPACE] to retry</div>
                </div>
            </div>
            <div class="game-hint">[A] left · [D] right · [SPACE] shoot</div>
        </div>

        <!-- Background Layers -->
        <div class="bg-layer"></div>
        <div class="overlay"></div>

        <!-- Main Container -->
        <main class="max-w-content mx-auto px-6 py-16 md:py-24 relative z-10">
            <!-- Hero Section -->
            <header class="mb-12 fade-in fade-in-delay-1">
                <div class="flex items-start justify-between gap-4">
                    <div>
                        <h1
                            class="text-3xl md:text-4xl font-semibold text-summer-text mb-2 tracking-tight relative"
                        >
                            <span id="name-text" class="name-clickable"
                                >Isala Piyarisi</span
                            >
                            <span id="name-tooltip" class="name-tooltip"
                                >stop that!</span
                            >
                        </h1>
                        <p
                            class="text-lg text-summer-text-secondary mb-4 font-medium"
                        >
                            Platform Engineer · AI Infrastructure
                        </p>
                    </div>
                    <div
                        class="dog-container w-20 h-20 md:w-24 md:h-24 flex-shrink-0"
                    >
                        <img
                            src="dog-still.png"
                            alt="A cute golden retriever"
                            class="dog-still"
                        />
                        <div class="dog-sprite" aria-hidden="true"></div>
                    </div>
                </div>
                <nav class="flex gap-4 text-sm font-medium items-center mb-6">
                    <a
                        href="mailto:ping@isala.me"
                        class="text-summer-accent hover:text-summer-accent-hover transition-colors"
                        title="ping@isala.me"
                        >em</a
                    >
                    <span class="text-summer-text-secondary">·</span>
                    <a
                        href="https://github.com/Supiri"
                        class="text-summer-accent hover:text-summer-accent-hover transition-colors"
                        >gh</a
                    >
                    <span class="text-summer-text-secondary">·</span>
                    <a
                        href="https://x.com/isala404"
                        class="text-summer-accent hover:text-summer-accent-hover transition-colors"
                        >x</a
                    >
                    <span class="text-summer-text-secondary">·</span>
                    <a
                        href="https://linkedin.com/in/isala"
                        class="text-summer-accent hover:text-summer-accent-hover transition-colors"
                        >li</a
                    >
                </nav>
                <p
                    class="text-base text-summer-text leading-relaxed max-w-prose mb-4"
                >
                    I build infrastructure that disappears and AI that feels
                    human. Currently exploring the edges of what's possible with
                    eBPF and Rust.
                </p>
                <p>
                    <a
                        href="/about"
                        class="text-sm text-summer-text-secondary arrow-link"
                        ><span class="arrow">→</span
                        ><span class="text">the long version</span></a
                    >
                </p>
            </header>

            <!-- Now Grid -->
            <section class="mb-12 fade-in fade-in-delay-2">
                <div class="now-grid grid grid-cols-3 gap-3">
                    <!-- Listening -->
                    <a
                        href="https://open.spotify.com/track/75JFxkI2RXiU7L9VXzMkle"
                        target="_blank"
                        data-tile="listening"
                        class="now-tile group p-4 rounded-lg border border-summer-text/5 bg-summer-text/[0.02] hover:bg-summer-text/[0.04] hover:border-summer-accent/20 transition-all"
                    >
                        <div class="flex items-center gap-2 mb-2">
                            <i
                                data-lucide="headphones"
                                class="w-4 h-4 text-summer-text-secondary group-hover:text-summer-accent transition-colors"
                            ></i>
                            <span class="text-xs text-summer-text-secondary"
                                >listening to</span
                            >
                        </div>
                        <p
                            class="text-sm font-medium text-summer-text group-hover:text-summer-accent transition-colors truncate"
                        >
                            The Scientist
                        </p>
                        <p class="text-xs text-summer-text-secondary truncate">
                            Coldplay
                        </p>
                    </a>

                    <!-- Powered by -->
                    <a
                        href="https://brownstea.com/product/browns-kahata/"
                        target="_blank"
                        data-tile="powered"
                        class="now-tile group p-4 rounded-lg border border-summer-text/5 bg-summer-text/[0.02] hover:bg-summer-text/[0.04] hover:border-summer-accent/20 transition-all"
                    >
                        <div class="flex items-center gap-2 mb-2">
                            <i
                                data-lucide="coffee"
                                class="w-4 h-4 text-summer-text-secondary group-hover:text-summer-accent transition-colors"
                            ></i>
                            <span class="text-xs text-summer-text-secondary"
                                >powered by</span
                            >
                        </div>
                        <p
                            class="text-sm font-medium text-summer-text group-hover:text-summer-accent transition-colors"
                        >
                            Brown's Tea
                        </p>
                        <p class="text-xs text-summer-text-secondary">
                            Kahata on repeat
                        </p>
                    </a>

                    <!-- Watching -->
                    <a
                        href="https://www.crunchyroll.com/series/GYEXQKJG6/dr-stone"
                        target="_blank"
                        data-tile="watching"
                        class="now-tile group p-4 rounded-lg border border-summer-text/5 bg-summer-text/[0.02] hover:bg-summer-text/[0.04] hover:border-summer-accent/20 transition-all"
                    >
                        <div class="flex items-center gap-2 mb-2">
                            <i
                                data-lucide="tv"
                                class="w-4 h-4 text-summer-text-secondary group-hover:text-summer-accent transition-colors"
                            ></i>
                            <span class="text-xs text-summer-text-secondary"
                                >watching</span
                            >
                        </div>
                        <p
                            class="text-sm font-medium text-summer-text group-hover:text-summer-accent transition-colors truncate"
                        >
                            Dr. Stone
                        </p>
                        <p class="text-xs text-summer-text-secondary truncate">
                            10 billion percent
                        </p>
                    </a>

                    <!-- Obsessed with -->
                    <a
                        href="https://ebpf.io"
                        target="_blank"
                        data-tile="obsessed"
                        class="now-tile group p-4 rounded-lg border border-summer-text/5 bg-summer-text/[0.02] hover:bg-summer-text/[0.04] hover:border-summer-accent/20 transition-all"
                    >
                        <div class="flex items-center gap-2 mb-2">
                            <i
                                data-lucide="flame"
                                class="w-4 h-4 text-summer-text-secondary group-hover:text-summer-accent transition-colors"
                            ></i>
                            <span class="text-xs text-summer-text-secondary"
                                >obsessed with</span
                            >
                        </div>
                        <p
                            class="text-sm font-medium text-summer-text group-hover:text-summer-accent transition-colors"
                        >
                            eBPF
                        </p>
                        <p class="text-xs text-summer-text-secondary">
                            kernel tracing magic
                        </p>
                    </a>

                    <!-- Side quest -->
                    <div
                        data-tile="sidequest"
                        class="now-tile group p-4 rounded-lg border border-summer-text/5 bg-summer-text/[0.02]"
                    >
                        <div class="flex items-center gap-2 mb-2">
                            <i
                                data-lucide="cpu"
                                class="w-4 h-4 text-summer-text-secondary"
                            ></i>
                            <span class="text-xs text-summer-text-secondary"
                                >side quest</span
                            >
                        </div>
                        <p class="text-sm font-medium text-summer-text">
                            Smart home arc
                        </p>
                        <p class="text-xs text-summer-text-secondary">
                            Pi + mass chaos
                        </p>
                    </div>

                    <!-- Setup -->
                    <div
                        data-tile="setup"
                        class="now-tile group p-4 rounded-lg border border-summer-text/5 bg-summer-text/[0.02]"
                    >
                        <div class="flex items-center gap-2 mb-2">
                            <i
                                data-lucide="laptop"
                                class="w-4 h-4 text-summer-text-secondary"
                            ></i>
                            <span class="text-xs text-summer-text-secondary"
                                >setup</span
                            >
                        </div>
                        <p class="text-sm font-medium text-summer-text">
                            macOS + Zed
                        </p>
                        <p class="text-xs text-summer-text-secondary">
                            no mouse gang
                        </p>
                    </div>
                </div>
            </section>

            <!-- Experience Section -->
            <section class="mb-10 fade-in fade-in-delay-2">
                <div class="flex items-center gap-4 mb-6">
                    <h2
                        class="text-lg font-medium text-summer-text section-heading"
                    >
                        Experience
                    </h2>
                    <div
                        class="h-px bg-summer-text/10 flex-grow border-b border-dotted border-summer-text/30"
                    ></div>
                </div>

                <div class="space-y-4">
                    <article class="flex justify-between items-start group">
                        <div>
                            <a
                                href="#"
                                class="text-summer-text hover-underline block"
                                >Senior Cloud Engineer</a
                            >
                            <p class="text-sm text-summer-text-secondary">
                                Company Name
                            </p>
                        </div>
                        <span
                            class="text-sm text-summer-text-secondary font-mono shrink-0 ml-4"
                            >2023 — now</span
                        >
                    </article>

                    <div class="pt-2">
                        <a
                            href="#"
                            class="text-sm text-summer-text-secondary arrow-link"
                            ><span class="arrow">→</span
                            ><span class="text">all experience</span></a
                        >
                    </div>
                </div>
            </section>

            <!-- Writing Section -->
            <section class="mb-10 fade-in fade-in-delay-2">
                <div class="flex items-center gap-4 mb-6">
                    <h2
                        class="text-lg font-medium text-summer-text section-heading"
                    >
                        Writing
                    </h2>
                    <div
                        class="h-px bg-summer-text/10 flex-grow border-b border-dotted border-summer-text/30"
                    ></div>
                </div>

                <div class="space-y-4">
                    <article class="flex justify-between items-baseline group">
                        <a href="#" class="hover-underline text-summer-text">
                            Kubernetes observability with eBPF
                        </a>
                        <span
                            class="text-sm text-summer-text-secondary font-mono shrink-0 ml-4"
                            >5 min</span
                        >
                    </article>
                    <article class="flex justify-between items-baseline group">
                        <a href="#" class="hover-underline text-summer-text">
                            Build a chatbot with Phi-2 and Rust
                        </a>
                        <span
                            class="text-sm text-summer-text-secondary font-mono shrink-0 ml-4"
                            >8 min</span
                        >
                    </article>
                    <article class="flex justify-between items-baseline group">
                        <a href="#" class="hover-underline text-summer-text">
                            Don't use Cilium's default Pod CIDR
                        </a>
                        <span
                            class="text-sm text-summer-text-secondary font-mono shrink-0 ml-4"
                            >4 min</span
                        >
                    </article>

                    <div class="pt-2">
                        <a
                            href="#"
                            class="text-sm text-summer-text-secondary arrow-link"
                            ><span class="arrow">→</span
                            ><span class="text">all writing</span></a
                        >
                    </div>
                </div>
            </section>

            <!-- Quote -->
            <blockquote
                id="quote"
                class="mb-10 fade-in fade-in-delay-3 text-sm border-l-2 border-summer-accent/40 pl-4"
            >
                <p id="quote-text" class="text-summer-text-secondary italic">
                    "If you want to master something, teach it."
                </p>
                <cite
                    id="quote-author"
                    class="text-xs text-summer-text/40 not-italic"
                    >— Richard Feynman</cite
                >
            </blockquote>

            <!-- Projects Section -->
            <section class="mb-10 fade-in fade-in-delay-3">
                <div class="flex items-center gap-4 mb-6">
                    <h2
                        class="text-lg font-medium text-summer-text section-heading"
                    >
                        Projects
                    </h2>
                    <div
                        class="h-px bg-summer-text/10 flex-grow border-b border-dotted border-summer-text/30"
                    ></div>
                </div>

                <div class="space-y-4">
                    <article class="group flex justify-between items-baseline">
                        <div>
                            <a
                                href="#"
                                class="font-medium text-summer-text hover-underline block"
                                >tera</a
                            >
                            <p class="text-sm text-summer-text-secondary">
                                AI assistant that runs locally
                            </p>
                        </div>
                        <span class="text-xs text-summer-golden shrink-0 ml-4"
                            >★ 42</span
                        >
                    </article>

                    <article class="group flex justify-between items-baseline">
                        <div>
                            <a
                                href="#"
                                class="font-medium text-summer-text hover-underline block"
                                >lazy-koala</a
                            >
                            <p class="text-sm text-summer-text-secondary">
                                AIOps toolkit using eBPF
                            </p>
                        </div>
                        <span class="text-xs text-summer-golden shrink-0 ml-4"
                            >★ 12</span
                        >
                    </article>

                    <div class="pt-2">
                        <a
                            href="#"
                            class="text-sm text-summer-text-secondary arrow-link"
                            ><span class="arrow">→</span
                            ><span class="text">all projects</span></a
                        >
                    </div>
                </div>
            </section>

            <!-- Notes Section -->
            <section class="mb-10 fade-in fade-in-delay-4">
                <div class="flex items-center gap-4 mb-6">
                    <h2
                        class="text-lg font-medium text-summer-text section-heading"
                    >
                        Notes
                    </h2>
                    <div
                        class="h-px bg-summer-text/10 flex-grow border-b border-dotted border-summer-text/30"
                    ></div>
                </div>

                <div class="space-y-3">
                    <article class="flex justify-between items-baseline group">
                        <a
                            href="#"
                            class="hover-underline text-summer-text text-sm"
                        >
                            TIL: Rust lifetimes finally clicked
                        </a>
                        <span
                            class="text-xs text-summer-text-secondary font-mono shrink-0 ml-4"
                            >Dec 2024</span
                        >
                    </article>
                    <article class="flex justify-between items-baseline group">
                        <a
                            href="#"
                            class="hover-underline text-summer-text text-sm"
                        >
                            Why I switched to Helix editor
                        </a>
                        <span
                            class="text-xs text-summer-text-secondary font-mono shrink-0 ml-4"
                            >Nov 2024</span
                        >
                    </article>
                    <article class="flex justify-between items-baseline group">
                        <a
                            href="#"
                            class="hover-underline text-summer-text text-sm"
                        >
                            Quick eBPF debugging tip
                        </a>
                        <span
                            class="text-xs text-summer-text-secondary font-mono shrink-0 ml-4"
                            >Nov 2024</span
                        >
                    </article>

                    <div class="pt-2">
                        <a
                            href="#"
                            class="text-sm text-summer-text-secondary arrow-link"
                            ><span class="arrow">→</span
                            ><span class="text">all notes</span></a
                        >
                    </div>
                </div>
            </section>

            <!-- GitHub Activity -->
            <section class="mb-10 fade-in fade-in-delay-4">
                <div class="flex items-center gap-4 mb-6">
                    <h2
                        class="text-lg font-medium text-summer-text section-heading"
                    >
                        Activity
                    </h2>
                    <div
                        class="h-px bg-summer-text/10 flex-grow border-b border-dotted border-summer-text/30"
                    ></div>
                </div>

                <a
                    href="https://github.com/isala404"
                    target="_blank"
                    class="block group aspect-[53/7] bg-summer-text/[0.02] rounded overflow-hidden"
                >
                    <img
                        src="https://ghchart.rshah.org/e85a3c/isala404"
                        alt="GitHub contribution graph for isala404"
                        class="w-full h-full object-contain opacity-80 group-hover:opacity-100 transition-opacity"
                    />
                </a>
            </section>

            <!-- Footer -->
            <footer
                class="text-sm text-summer-text-secondary fade-in fade-in-delay-4 border-t border-dotted border-summer-text/20 pt-8 text-center"
            >
                <p id="footer-text" class="footer-text">
                    worked on my machine · your mileage may vary
                </p>
                <p id="konami-hint" class="konami-hint mt-3">↑↑↓↓←→←→BA</p>
            </footer>
        </main>

        <script>
            lucide.createIcons();

            // Dog Easter Egg
            (function () {
                const container = document.querySelector(".dog-container");
                if (!container) return;

                let isBarking = false;

                container.addEventListener("click", function () {
                    if (isBarking) return;
                    isBarking = true;

                    // Trigger bark animation via CSS
                    container.classList.add("barking");

                    // Add woof text - random side first, then other side
                    function addWoof(side, delay) {
                        setTimeout(() => {
                            const woof = document.createElement("span");
                            woof.className = "woof woof-" + side;
                            woof.textContent = "woof!";
                            container.appendChild(woof);
                            setTimeout(() => woof.remove(), 500);
                        }, delay);
                    }

                    const firstSide = Math.random() > 0.5 ? "left" : "right";
                    const secondSide = firstSide === "left" ? "right" : "left";

                    addWoof(firstSide, 0);
                    addWoof(secondSide, 500);

                    // Reset after animation (0.5s x 2 loops)
                    setTimeout(() => {
                        container.classList.remove("barking");
                        isBarking = false;
                    }, 1000);
                });
            })();

            // Quote Easter Egg - Levi Ackerman
            (function () {
                const quote = document.getElementById("quote");
                const quoteText = document.getElementById("quote-text");
                const quoteAuthor = document.getElementById("quote-author");
                if (!quote) return;

                // Remove fade-in animation after it completes so it doesn't replay
                setTimeout(() => {
                    quote.classList.remove("fade-in", "fade-in-delay-3");
                    quote.style.opacity = "1";
                    quote.style.transform = "none";
                }, 1200);

                const originalText = quoteText.textContent;
                const originalAuthor = quoteAuthor.textContent;
                const leviText = '"Give up on your dreams and die."';
                const leviAuthor = "— Levi Ackerman";

                let hoverTimer = null;
                let isLevi = false;

                function glitchChange(newText, newAuthor) {
                    quote.classList.add("glitching");
                    setTimeout(() => {
                        quoteText.textContent = newText;
                        quoteAuthor.textContent = newAuthor;
                    }, 250);
                    setTimeout(() => {
                        quote.classList.remove("glitching");
                    }, 500);
                }

                quote.addEventListener("mouseenter", function () {
                    hoverTimer = setTimeout(() => {
                        glitchChange(leviText, leviAuthor);
                        isLevi = true;
                    }, 2500);
                });

                quote.addEventListener("mouseleave", function () {
                    if (hoverTimer) {
                        clearTimeout(hoverTimer);
                        hoverTimer = null;
                    }
                    if (isLevi) {
                        glitchChange(originalText, originalAuthor);
                        isLevi = false;
                    }
                });
            })();

            // Easter Egg: Draggable Tiles
            (function () {
                const grid = document.querySelector(".now-grid");
                if (!grid) return;

                const DRAG_THRESHOLD = 8; // pixels before drag starts
                const STORAGE_KEY = "tile-order";

                // Restore order from localStorage
                function restoreOrder() {
                    const saved = localStorage.getItem(STORAGE_KEY);
                    if (!saved) return;

                    try {
                        const order = JSON.parse(saved);
                        const tiles = Array.from(
                            grid.querySelectorAll(".now-tile"),
                        );
                        const tileMap = {};
                        tiles.forEach((t) => (tileMap[t.dataset.tile] = t));

                        order.forEach((id) => {
                            if (tileMap[id]) {
                                grid.appendChild(tileMap[id]);
                            }
                        });
                    } catch (e) {}
                }

                // Save current order to localStorage
                function saveOrder() {
                    const tiles = Array.from(
                        grid.querySelectorAll(".now-tile"),
                    );
                    const order = tiles.map((t) => t.dataset.tile);
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(order));
                }

                restoreOrder();

                let pendingTile = null;
                let dragging = null;
                let clone = null;
                let startX, startY, offsetX, offsetY;
                let tileRect = null;
                let lastHovered = null;

                // Hint animation every 30 seconds
                function showHint() {
                    if (dragging) return; // Don't show hint while dragging
                    const tiles = Array.from(
                        grid.querySelectorAll(".now-tile"),
                    );
                    const tile =
                        tiles[Math.floor(Math.random() * tiles.length)];
                    tile.classList.add("hint");
                    tile.addEventListener(
                        "animationend",
                        () => tile.classList.remove("hint"),
                        { once: true },
                    );
                }

                // Initial hint after 5 seconds, then every 30 seconds
                setTimeout(showHint, 5000);
                setInterval(showHint, 30000);

                grid.addEventListener("mousedown", function (e) {
                    const tile = e.target.closest(".now-tile");
                    if (!tile || e.button !== 0) return;

                    e.preventDefault();

                    const rect = tile.getBoundingClientRect();
                    startX = e.clientX;
                    startY = e.clientY;
                    offsetX = e.clientX - rect.left;
                    offsetY = e.clientY - rect.top;
                    tileRect = rect;

                    // Don't start drag yet, wait for movement
                    pendingTile = tile;

                    document.addEventListener("mousemove", onMouseMove);
                    document.addEventListener("mouseup", onMouseUp);
                });

                function startDrag() {
                    if (!pendingTile || dragging) return;

                    dragging = pendingTile;
                    pendingTile = null;

                    // Create a clone for dragging visual
                    clone = dragging.cloneNode(true);
                    clone.classList.add("dragging");
                    clone.style.width = tileRect.width + "px";
                    clone.style.height = tileRect.height + "px";
                    clone.style.left = tileRect.left + "px";
                    clone.style.top = tileRect.top + "px";
                    document.body.appendChild(clone);

                    // Mark original as placeholder and activate grid dragging state
                    dragging.classList.add("placeholder");
                    grid.classList.add("dragging-active");
                }

                function onMouseMove(e) {
                    // Check if we should start dragging
                    if (pendingTile && !dragging) {
                        const deltaX = Math.abs(e.clientX - startX);
                        const deltaY = Math.abs(e.clientY - startY);
                        if (
                            deltaX > DRAG_THRESHOLD ||
                            deltaY > DRAG_THRESHOLD
                        ) {
                            startDrag();
                        }
                    }

                    if (!dragging || !clone) return;

                    // Move clone
                    clone.style.left = e.clientX - offsetX + "px";
                    clone.style.top = e.clientY - offsetY + "px";

                    // Find tile under cursor using element positions
                    const tiles = Array.from(
                        grid.querySelectorAll(".now-tile:not(.placeholder)"),
                    );
                    let hovered = null;

                    for (const tile of tiles) {
                        const rect = tile.getBoundingClientRect();
                        if (
                            e.clientX >= rect.left &&
                            e.clientX <= rect.right &&
                            e.clientY >= rect.top &&
                            e.clientY <= rect.bottom
                        ) {
                            hovered = tile;
                            break;
                        }
                    }

                    // Swap if hovering over a different tile
                    if (hovered && hovered !== lastHovered) {
                        const allTiles = Array.from(
                            grid.querySelectorAll(".now-tile"),
                        );
                        const dragIndex = allTiles.indexOf(dragging);
                        const hoverIndex = allTiles.indexOf(hovered);

                        if (dragIndex < hoverIndex) {
                            grid.insertBefore(dragging, hovered.nextSibling);
                        } else {
                            grid.insertBefore(dragging, hovered);
                        }
                        lastHovered = hovered;
                    }
                }

                function onMouseUp(e) {
                    const wasDragging = dragging !== null;
                    const hadPending = pendingTile !== null;

                    // Clean up clone
                    if (clone) {
                        clone.remove();
                        clone = null;
                    }

                    // Clean up dragging state
                    if (dragging) {
                        dragging.classList.remove("placeholder");
                        grid.classList.remove("dragging-active");
                        saveOrder();
                    }

                    // If we never started dragging, it was a click
                    if (
                        hadPending &&
                        !wasDragging &&
                        pendingTile.tagName === "A" &&
                        pendingTile.href
                    ) {
                        window.open(
                            pendingTile.href,
                            pendingTile.target || "_self",
                        );
                    }

                    pendingTile = null;
                    dragging = null;
                    lastHovered = null;
                    tileRect = null;

                    document.removeEventListener("mousemove", onMouseMove);
                    document.removeEventListener("mouseup", onMouseUp);
                }
            })();

            // Konami Code Easter Egg
            (function () {
                const konamiCode = [
                    "ArrowUp",
                    "ArrowUp",
                    "ArrowDown",
                    "ArrowDown",
                    "ArrowLeft",
                    "ArrowRight",
                    "ArrowLeft",
                    "ArrowRight",
                    "KeyB",
                    "KeyA",
                ];
                const hintChars = ["↑", "↑", "↓", "↓", "←", "→", "←", "→", "B", "A"];
                let konamiIndex = 0;
                let vhsActive = false;

                const vhsOverlay = document.getElementById("vhs-overlay");
                const konamiMessage = document.getElementById("konami-message");
                const konamiHint = document.getElementById("konami-hint");

                function updateHint() {
                    if (!konamiHint) return;
                    if (konamiIndex > 0) {
                        konamiHint.classList.add("progress");
                        // Show completed chars highlighted
                        const completed = hintChars.slice(0, konamiIndex).join("");
                        const remaining = hintChars.slice(konamiIndex).join("");
                        konamiHint.innerHTML = `<span style="color: #e85a3c">${completed}</span>${remaining}`;
                    } else {
                        konamiHint.classList.remove("progress");
                        konamiHint.textContent = hintChars.join("");
                    }
                }

                document.addEventListener("keydown", function (e) {
                    if (e.code === konamiCode[konamiIndex]) {
                        konamiIndex++;
                        updateHint();
                        if (konamiIndex === konamiCode.length) {
                            activateVHS();
                            konamiIndex = 0;
                            updateHint();
                        }
                    } else {
                        konamiIndex = 0;
                        updateHint();
                    }
                });

                function activateVHS() {
                    if (vhsActive) {
                        // Deactivate
                        vhsOverlay.classList.remove("active");
                        konamiMessage.classList.remove("show");
                        if (konamiHint) konamiHint.classList.remove("hidden");
                        vhsActive = false;
                    } else {
                        // Activate
                        vhsOverlay.classList.add("active");
                        konamiMessage.classList.add("show");
                        if (konamiHint) konamiHint.classList.add("hidden");
                        vhsActive = true;

                        // Hide message after 2 seconds
                        setTimeout(() => {
                            konamiMessage.classList.remove("show");
                        }, 2000);
                    }
                }
            })();

            // Name Click Easter Egg
            (function () {
                const nameText = document.getElementById("name-text");
                const nameTooltip = document.getElementById("name-tooltip");
                if (!nameText || !nameTooltip) return;

                let clickCount = 0;
                let resetTimer = null;
                const CLICK_THRESHOLD = 3;

                const tooltipMessages = [
                    "stop that!",
                    "seriously?",
                    "okay okay...",
                    "fine, you win",
                    "( ´_ゝ`)",
                ];

                nameText.addEventListener("click", function () {
                    clickCount++;

                    // Reset count after 2 seconds of no clicks
                    if (resetTimer) clearTimeout(resetTimer);
                    resetTimer = setTimeout(() => {
                        clickCount = 0;
                    }, 2000);

                    if (clickCount >= CLICK_THRESHOLD) {
                        // Trigger shake animation
                        nameText.classList.add("shaking");

                        // Show tooltip with random message
                        const msgIndex = Math.min(
                            Math.floor((clickCount - CLICK_THRESHOLD) / 2),
                            tooltipMessages.length - 1,
                        );
                        nameTooltip.textContent = tooltipMessages[msgIndex];
                        nameTooltip.classList.add("show");

                        // Reset shake animation
                        nameText.addEventListener(
                            "animationend",
                            () => {
                                nameText.classList.remove("shaking");
                            },
                            { once: true },
                        );

                        // Hide tooltip after a bit
                        setTimeout(() => {
                            nameTooltip.classList.remove("show");
                        }, 1500);
                    }
                });
            })();

            // Footer Joke Easter Egg
            (function () {
                const footerText = document.getElementById("footer-text");
                if (!footerText) return;

                const jokes = [
                    "worked on my machine · your mileage may vary",
                    "no bugs were mass-harmed in the making",
                    "localhost:3000 was the real friend all along",
                    "git push --force · git push --remorse",
                    "undefined is not a function · or is it?",
                    'console.log("here") · the OG debugger',
                    "it's not a bug · it's a feature request",
                ];

                let currentIndex = 0;
                let isAnimating = false;

                footerText.addEventListener("click", function () {
                    if (isAnimating) return;
                    isAnimating = true;

                    footerText.classList.add("switching");

                    setTimeout(() => {
                        currentIndex = (currentIndex + 1) % jokes.length;
                        footerText.textContent = jokes[currentIndex];
                    }, 150);

                    setTimeout(() => {
                        footerText.classList.remove("switching");
                        isAnimating = false;
                    }, 300);
                });
            })();

            // Bug Hunter Mini Game (Space Invaders style)
            (function () {
                const overlay = document.getElementById("game-overlay");
                const canvas = document.getElementById("game-canvas");
                const ctx = canvas ? canvas.getContext("2d") : null;
                const startScreen = document.getElementById("game-start");
                const gameOverScreen = document.getElementById("game-over");
                const scoreEl = document.getElementById("game-score");
                const livesEl = document.getElementById("game-lives");
                const finalScoreEl = document.getElementById("final-score");
                const highScoreEl = document.getElementById("high-score");
                const closeBtn = document.getElementById("game-close");

                if (!overlay || !canvas || !ctx) return;

                // Game state
                let gameActive = false;
                let gameRunning = false;
                let animationId = null;
                let score = 0;
                let lives = 3;
                let highScore = parseInt(localStorage.getItem("bugHunterHighScore")) || 0;

                // Game objects
                let player = { x: 0, y: 0, width: 30, height: 20 };
                let bullets = [];
                let enemies = [];
                let particles = [];

                // Game settings
                const BULLET_SPEED = 8;
                const PLAYER_SPEED = 3;
                const ENEMY_SPAWN_RATE = 60; // frames
                const BASE_ENEMY_SPEED = 1.5;
                let frameCount = 0;
                let difficulty = 1;

                // Input tracking
                let keys = { left: false, right: false };

                // Bug types (site-themed)
                const BUG_TYPES = [
                    { text: "404", color: "#e85a3c", points: 10 },
                    { text: "NaN", color: "#d4a84b", points: 15 },
                    { text: "nil", color: "#4a9ba0", points: 20 },
                    { text: "ERR", color: "#e85a3c", points: 25 },
                    { text: "bug", color: "#6b6b7a", points: 30 },
                ];

                function initCanvas() {
                    canvas.width = 400;
                    canvas.height = 500;
                    player.x = canvas.width / 2 - player.width / 2;
                    player.y = canvas.height - 50;
                }

                function resetGame() {
                    score = 0;
                    lives = 3;
                    difficulty = 1;
                    frameCount = 0;
                    bullets = [];
                    enemies = [];
                    particles = [];
                    player.x = canvas.width / 2 - player.width / 2;
                    updateUI();
                }

                function updateUI() {
                    scoreEl.textContent = score;
                    livesEl.textContent = "♥".repeat(lives) + "♡".repeat(3 - lives);
                    highScoreEl.textContent = highScore;
                }

                function shoot() {
                    bullets.push({
                        x: player.x + player.width / 2 - 2,
                        y: player.y,
                        width: 4,
                        height: 12,
                    });
                }

                function spawnEnemy() {
                    const type = BUG_TYPES[Math.floor(Math.random() * BUG_TYPES.length)];
                    const width = 40;
                    enemies.push({
                        x: Math.random() * (canvas.width - width),
                        y: -30,
                        width: width,
                        height: 25,
                        speed: BASE_ENEMY_SPEED + (difficulty - 1) * 0.3 + Math.random() * 0.5,
                        type: type,
                    });
                }

                function createParticles(x, y, color) {
                    for (let i = 0; i < 8; i++) {
                        particles.push({
                            x: x,
                            y: y,
                            vx: (Math.random() - 0.5) * 4,
                            vy: (Math.random() - 0.5) * 4,
                            life: 20,
                            color: color,
                        });
                    }
                }

                function drawPlayer() {
                    ctx.fillStyle = "#e8e0d5";
                    // Ship body
                    ctx.beginPath();
                    ctx.moveTo(player.x + player.width / 2, player.y);
                    ctx.lineTo(player.x, player.y + player.height);
                    ctx.lineTo(player.x + player.width, player.y + player.height);
                    ctx.closePath();
                    ctx.fill();
                    // Accent
                    ctx.fillStyle = "#e85a3c";
                    ctx.fillRect(player.x + player.width / 2 - 2, player.y + 5, 4, 10);
                }

                function drawBullet(b) {
                    ctx.fillStyle = "#e85a3c";
                    ctx.fillRect(b.x, b.y, b.width, b.height);
                    // Glow effect
                    ctx.shadowColor = "#e85a3c";
                    ctx.shadowBlur = 5;
                    ctx.fillRect(b.x, b.y, b.width, b.height);
                    ctx.shadowBlur = 0;
                }

                function drawEnemy(e) {
                    // Bug box
                    ctx.fillStyle = "rgba(232, 224, 213, 0.1)";
                    ctx.fillRect(e.x, e.y, e.width, e.height);
                    ctx.strokeStyle = e.type.color;
                    ctx.lineWidth = 2;
                    ctx.strokeRect(e.x, e.y, e.width, e.height);
                    // Text
                    ctx.fillStyle = e.type.color;
                    ctx.font = "bold 12px JetBrains Mono";
                    ctx.textAlign = "center";
                    ctx.textBaseline = "middle";
                    ctx.fillText(e.type.text, e.x + e.width / 2, e.y + e.height / 2);
                }

                function drawParticle(p) {
                    ctx.fillStyle = p.color;
                    ctx.globalAlpha = p.life / 20;
                    ctx.fillRect(p.x - 2, p.y - 2, 4, 4);
                    ctx.globalAlpha = 1;
                }

                function checkCollision(a, b) {
                    return (
                        a.x < b.x + b.width &&
                        a.x + a.width > b.x &&
                        a.y < b.y + b.height &&
                        a.y + a.height > b.y
                    );
                }

                function update() {
                    frameCount++;

                    // Move player
                    if (keys.left && player.x > 0) {
                        player.x -= PLAYER_SPEED;
                    }
                    if (keys.right && player.x < canvas.width - player.width) {
                        player.x += PLAYER_SPEED;
                    }

                    // Spawn enemies
                    const spawnRate = Math.max(20, ENEMY_SPAWN_RATE - difficulty * 5);
                    if (frameCount % spawnRate === 0) {
                        spawnEnemy();
                    }

                    // Increase difficulty
                    if (frameCount % 600 === 0) {
                        difficulty++;
                    }

                    // Update bullets
                    bullets = bullets.filter((b) => {
                        b.y -= BULLET_SPEED;
                        return b.y > -b.height;
                    });

                    // Update enemies
                    enemies = enemies.filter((e) => {
                        e.y += e.speed;

                        // Check if enemy reached bottom
                        if (e.y > canvas.height - 30) {
                            lives--;
                            updateUI();
                            createParticles(e.x + e.width / 2, canvas.height - 30, "#e85a3c");
                            if (lives <= 0) {
                                endGame();
                            }
                            return false;
                        }

                        // Check collision with bullets
                        for (let i = bullets.length - 1; i >= 0; i--) {
                            if (checkCollision(bullets[i], e)) {
                                bullets.splice(i, 1);
                                score += e.type.points;
                                updateUI();
                                createParticles(e.x + e.width / 2, e.y + e.height / 2, e.type.color);
                                return false;
                            }
                        }

                        return true;
                    });

                    // Update particles
                    particles = particles.filter((p) => {
                        p.x += p.vx;
                        p.y += p.vy;
                        p.life--;
                        return p.life > 0;
                    });
                }

                function draw() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);

                    // Draw grid background
                    ctx.strokeStyle = "rgba(232, 224, 213, 0.05)";
                    ctx.lineWidth = 1;
                    for (let x = 0; x < canvas.width; x += 20) {
                        ctx.beginPath();
                        ctx.moveTo(x, 0);
                        ctx.lineTo(x, canvas.height);
                        ctx.stroke();
                    }
                    for (let y = 0; y < canvas.height; y += 20) {
                        ctx.beginPath();
                        ctx.moveTo(0, y);
                        ctx.lineTo(canvas.width, y);
                        ctx.stroke();
                    }

                    // Draw game objects
                    particles.forEach(drawParticle);
                    bullets.forEach(drawBullet);
                    enemies.forEach(drawEnemy);
                    drawPlayer();
                }

                function gameLoop() {
                    if (!gameRunning) return;
                    update();
                    draw();
                    animationId = requestAnimationFrame(gameLoop);
                }

                function startGame() {
                    resetGame();
                    startScreen.classList.add("hidden");
                    gameOverScreen.classList.add("hidden");
                    gameRunning = true;
                    gameLoop();
                }

                function endGame() {
                    gameRunning = false;
                    if (animationId) {
                        cancelAnimationFrame(animationId);
                    }

                    if (score > highScore) {
                        highScore = score;
                        localStorage.setItem("bugHunterHighScore", highScore);
                    }

                    finalScoreEl.textContent = score;
                    highScoreEl.textContent = highScore;
                    gameOverScreen.classList.remove("hidden");
                }

                function openGame() {
                    gameActive = true;
                    overlay.classList.add("active");
                    initCanvas();
                    updateUI();
                    startScreen.classList.remove("hidden");
                    gameOverScreen.classList.add("hidden");
                }

                function closeGame() {
                    gameActive = false;
                    gameRunning = false;
                    keys.left = false;
                    keys.right = false;
                    if (animationId) {
                        cancelAnimationFrame(animationId);
                    }
                    overlay.classList.remove("active");
                }

                // Global key listeners
                document.addEventListener("keydown", function (e) {
                    // Space to open game or shoot
                    if (e.code === "Space") {
                        if (!gameActive) {
                            e.preventDefault();
                            openGame();
                            return;
                        }

                        if (gameActive) {
                            e.preventDefault();
                            if (!gameRunning) {
                                startGame();
                            } else {
                                shoot();
                            }
                        }
                    }

                    // A/D or Arrow keys for movement
                    if (gameActive && gameRunning) {
                        if (e.code === "KeyA" || e.code === "ArrowLeft") {
                            keys.left = true;
                        }
                        if (e.code === "KeyD" || e.code === "ArrowRight") {
                            keys.right = true;
                        }
                    }

                    if (e.code === "Escape" && gameActive) {
                        closeGame();
                    }
                });

                document.addEventListener("keyup", function (e) {
                    if (e.code === "KeyA" || e.code === "ArrowLeft") {
                        keys.left = false;
                    }
                    if (e.code === "KeyD" || e.code === "ArrowRight") {
                        keys.right = false;
                    }
                });

                // Close button
                closeBtn.addEventListener("click", closeGame);
            })();
        </script>
    </body>
</html>
